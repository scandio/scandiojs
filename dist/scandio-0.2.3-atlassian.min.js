/*!
 * scandio.js JavaScript Library
 * http://scandio.js/
 *
 * Copyright 2013 Scandio GmbH and other contributors
 * Released under the MIT license
 */
!function(a,b,c,d,e,undefined){"use strict";a=a||this;var f={},g={scandioHtmlClass:"scandio-js",scandioBridgeClass:"scandio-js--bridge"},h=!0,i=null,j=a.Scandio,k={},l=Array.prototype,m=Object.prototype,n=Function.prototype,o=d.location,p=b("<a>"),q={},r=["assert","clear","count","dir","dirxml","exception","group","groupCollapsed","groupEnd","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace"],s=["error","warn","info","debug","log"],t={domLogging:"scandiojs--log-dom"},u=l.push,v=l.slice,w=l.concat,x=m.toString,y=m.hasOwnProperty,z=l.forEach,A=l.map,B=l.reduce,C=l.reduceRight,D=l.filter,E=l.every,F=l.some,G=l.indexOf,H=l.lastIndexOf,I=Array.isArray,J=Object.keys,K=n.bind,L=String.prototype.trim,M=String.prototype.trimRight,N=String.prototype.trimLeft,O=function(a){return a instanceof O?a:this instanceof O?(this._wrapped=a,void 0):new O(a)},P=function(){var a,b=function(){},c=s.concat(r),e=c.length,f=d.console=d.console||{};while(e--)a=c[e],f[a]||(f[a]=b)},Q=function(){b(function(){var a=null,c=e.head||e.getElementsByTagName("head")[0];h&&0===b(g.scandioHtmlClass).length&&(i=b("<div/>").addClass(g.scandioHtmlClass).appendTo("body")),h&&(a=e.createElement("script"),a.type="application/x-json",a.id=g.scandioBridgeClass,c.appendChild(a))})},R=function(){P(),Q()};R(),a.Scandio=O,O.VERSION="0.1.0",l.indexOf||(l.indexOf=function(a,c){return b.inArray(a,this,c)}),b.fn.on||(b.fn.on=b.fn.bind),O.dom={},O.dom.cache=function(a,b){var c={},d=function(b){var d,e,f,g=b.target;for(d in c){f=(e=c[d]).length;while(f--)(e[f]===g||a.contains(g,e[f]))&&(delete e[f],--e.length)}},f=function(d){b.isString(d)?c[d]!==undefined&&(c[d]=a(c[d].selector||"")):b.util.each(c,function(b,d){c[d]=a(b.selector)})},g=function(d,e){return b.isString(e)&&b.isString(d)&&(c[d]=c[d]||a(e)),c[d]};return a(e).on("DOMNodeRemoved",d),{get:g,update:f}}(b,O),O.string={},O.string.capitalize=function(a){return a.charAt(0).toUpperCase()+a.substring(1).toLowerCase()},O.string.lower=function(a){return a.toLowerCase()},O.string.clean=function(a){return O.string.trim(a).replace(/\s+/g," ")},O.string.trim=function(a,b){return!b&&L?L.call(a):String(a).replace(new RegExp("^"+b+"+|"+b+"+$","g"),"")},O.string.chop=function(a,b){return a=String(a),b=~~b,b>0?a.match(new RegExp(".{1,"+b+"}","g")):[a]},O.string.contains=function(a,b){return""===a?!0:null===b||b===undefined?!1:-1!==String(b).indexOf(a)},O.string.starts=function(a,b){return a=String(a),b=String(b),a.length>=b.length&&a.slice(0,b.length)===b},O.string.ends=function(a,b){return a=String(a),b=String(b),a.length>=b.length&&a.slice(a.length-b.length)===b},O.string.implode=function(a,b){return(null===a||a===undefined)&&(a=""),b.join(a)},O.string.explode=function(a,b){return b=String(b),a=String(a),a.split(b)},O.string.replace=function(a,b,c){a=String(a),b=String(b),c=String(c);var d=new RegExp(b.toLowerCase(),"gi");return a.replace(d,c)},O.logger={level:5,logs:{},logDom:!1},O.logger.logDomFn=O.logger.logDomFn||function(){return O.logger.logDom||d.location.href.indexOf(t.domLogging)>-1}(),O.debug={},O.debug=function(){var a=d.console,c=s.length,e={},f="scandio-log",g="<div />",h=null,j={debug:"info",error:"danger",info:"info",log:"success",warn:"warning"},k=function(a){var b=[];return O.util.each(a,function(a){O.isObject(a)||O.isArray(a)?b.push(O.json.to(a)):b.push(a)}),b.join(" ,")},l=function(c,d){var i=f+"--"+c,l="alert alert-"+j[c]||c,m="."+O.string.replace(l," ","."),n=[];O.logger.logs[c]=[],O.logger.logDomFn===!0&&b(function(){h.append(b(g).addClass(i).html(b(g).addClass(l))),n=b(m),O.util.each(O.logger.logs[c],function(a){n.prepend(a+"<hr />")})}),O.dom[c]=function(){var a=v.call(arguments);0===n.length&&(n=b(m)),O.logger.logDomFn&&n.length>0&&n.prepend(k(a)+"<hr />")},e[c]=function(){var b=v.call(arguments);O.logger.level>d&&(a[c].apply(a,b),O.dom[c].apply(O,b)),O.logger.logs[c].push(k(b))}};O.logger.logDomFn===!0&&b(function(){h=b(g).addClass(f).appendTo(i)});while(c--)l(s[c],c);return e}(),O.util={},O.util.has=function(a,b){return y.call(a,b)},O.util.each=O.forEach=function(a,b,c){var d=null,e=null,f=null;if(null!==a&&a!==undefined)if(z&&a.forEach===z)a.forEach(b,c);else if(a.length===+a.length){for(e=0,f=a.length;f>e;e++)if(b.call(c,a[e],e,a)===k)return}else for(d in a)if(O.util.has(a,d)&&b.call(c,a[d],d,a)===k)return},O.util.extend=function(a){return O.util.each(v.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},O.util.filter=function(a,b,c){var d=[];return null===a||a===undefined?d:D&&a.filter===D?a.filter(b,c):(O.util.each(a,function(a,e,f){b.call(c,a,e,f)&&d.push(a)}),d)},O.util.getByDots=function(a,b,c){var d=b,e=a.split("."),f=null;for(f=0;f<e.length;f++){if(!d[e[f]]){d=undefined;break}d=d[e[f]]}return d||c},O.util.setByDots=function(a,b,c){var d=a.split("."),e=null;while(d.length>1)e=d.shift(),O.isObject(c)||(c={}),e in c||(c[e]={}),c=c[e];return c[d[0]]=b},O.util.functions=function(a){var b={},c=null;for(c in a)O.isFunction(a[c])&&(b[c]=a[c]);return b},O.util.mixin=function(a,b){var c=O,d=null!==a?a.split("."):[],e=null,f=null;for(f=0;f<d.length;f++)e=d[f],c[e]||(c[e]={}),c=c[e];O.util.each(O.util.functions(b),function(a,b){c[b]=function(){var b=this._wrapped?[this._wrapped]:[];return u.apply(b,arguments),a.apply(O,b)}})},O.util.each(["Array","Arguments","Function","String","Number","Date","RegExp"],function(a){O["is"+a]=function(b){return x.call(b)=="[object "+a+"]"}}),O.isObject=function(a){return a===Object(a)},O.json={},O.json.to=O.json.encode=function(a){if("JSON"in d)return JSON.stringify(a);var b=typeof a,c=null,e=null,f=[],g=null;if("object"!=b||null===a)return"string"==b&&(a='"'+a+'"'),String(a);g=a&&a.constructor==Array;for(c in a)e=a[c],b=typeof e,a.hasOwnProperty(c)&&("string"==b?e='"'+e+'"':"object"==b&&null!==e&&(e=O.json.to(e)),f.push((g?"":'"'+c+'":')+String(e)));return(g?"[":"{")+String(f)+(g?"]":"}")},O.json.from=O.json.decode=function(a){return b.parseJSON(a)},O.timing={},O.timing.breaks=function(a,b){var c=null,d=null,e=null,f=null,g=0,h=null,i=function(){g=new Date,f=null,e=a.apply(c,d)};return function(){var j=new Date;return g||(g=j),h=b-(j-g),c=this,d=arguments,0>=h?(clearTimeout(f),f=null,g=j,e=a.apply(c,d)):f||(f=setTimeout(i,h)),e}},O.timing.delay=function(a,b){var c=v.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},O.ajax={},O.ajax.libs=function(a){O.util.each(a,function(a,b){O.isFunction(O.ajax.cdns[b])?O.util.each(a,function(a){O.ajax.script(O.ajax.cdns[b](a.repository,a.version,a.file),a.success||undefined)}):O.debug.warn("CDN: "+b+" not defined in Scandio.ajax.cdns!")})},O.ajax.cdns={cdnjs:function(a,b,c){return"//cdnjs.cloudflare.com/ajax/libs/"+a+"/"+b+"/"+c}},O.ajax.plugins=function(a){var b=null,c=[];return O.util.each(a,function(a,e){O.util.each(a,function(a){b=d.location.origin+"/"+e+a+".js",O.ajax.script(b),c.push(b)})}),c},O.ajax.maybe=function(a){var b=null,c=[];return O.util.each(a,function(a){a.when&&(O.isObject(a.libs)&&O.ajax.libs(a.libs),O.isObject(a.plugins)&&O.ajax.plugins(a.plugins))}),c},O.ajax.script=function(a,b){var c=e.createElement("script"),d=e.head||e.getElementsByTagName("head")[0];return c.type="text/javascript",c.readyState?c.onreadystatechange=function(){("loaded"==c.readyState||"complete"==c.readyState)&&(c.onreadystatechange=null,O.isFunction(b)&&b())}:c.onload=function(){O.isFunction(b)&&b()},c.src=a,d.appendChild(c),a},O.mod=O.module=function(){var a=!1,c={};return function(a,d,f){var g=null,h=null;a=O.string.clean(O.string.lower(a)),(!O.isString(a)||!O.isFunction(d)||f&&!O.isObject(f))&&(g="Parameter mismatch in Scandio.mod - please provide (1) namespace asstring and a (2) module as function. (3) an modEnv object may be given toextend the default global environment",O.debug.error(g)),O.util.getByDots(a,q,!0)!==!0?(g='Error: there is already a module with namespace "'+a+'".',O.debug.error(g)):(b.extend(!0,c,f),h=O.util.setByDots(a,d.call(O,b,c,O),q)),f&&O.isFunction(f.readyFn)?f.readyFn(h.ready):b(e).ready(h.ready)}}(),O.modules=function(a){return a=O.string.clean(O.string.lower(a)),O.util.getByDots(a,q,!1)},O.wait=function(){var a=function(a){var b=(new Date).getTime(),c=a.duration||3e3,d=a.interval||100,e=a.initialDelay||10,f=a.condition||function(){},g=O.util.extend({},a.callbacks),h=function(){(new Date).getTime()-b>c?O.isFunction(g.fail)&&g.fail():f()?O.isFunction(g.done)&&g.done():setTimeout(h,d)};return setTimeout(h,e),{done:function(a){g.done=a},fail:function(a){g.fail=a}}};return a.until=function(b){return a({condition:b})},a}(),O.util.mixin(null,function(a,b){var c=a({}),d=function(){c.on.apply(c,arguments)},e=function(){c.off.apply(c,arguments)},f=function(){c.trigger.apply(c,arguments)};return{subscribe:d,unsubscribe:e,publish:f}}(b,O)),O.redirect=function(a){o.href=a},O.confluence={},O.confluence.macro=function(){function a(a,d){if(!d||d()){var e=c.MacroBrowser.metadataList;"string"===b.type(a)&&a.indexOf(",")>=0?(a=a.split(","),c.MacroBrowser.metadataList=jQuery.grep(e,function(c){return b.inArray(c.macroName,a)<0})):c.MacroBrowser.metadataList=jQuery.grep(e,function(b){return b.macroName!==a})}}return{disableMacro:a}}(),O.confluence.labels=function(){function a(){return b("#labels-section .aui-label > a").map(function(){return b(this).html()}).get()}function d(){var b="",c=a();return c.length&&(b=c.join(",")),b}function e(c){return b.inArray(c,a())>=0}var f={hasLabel:e,getLabelsArray:a,getLabelsString:d};return b.each(f,function(a,b){c.Labels[a]||(c.Labels[a]=b)}),f}(),O.device={mobile:["android","webos","iphone","ipad","ipod","blackberry"],desktop:["macintosh","win","linux"]},O.device.isMobile=function(){var a=new RegExp(O.device.mobile.join("|")),b=navigator.userAgent.toLowerCase();return a.test(b)},O.device.isDesktop=function(){var a=new RegExp(O.device.desktop.join("|")),b=navigator.userAgent.toLowerCase();return a.test(b)},O.device.isBrowser=function(a){var b=new RegExp(a.toLowerCase()),c=navigator.userAgent.toLowerCase();return b.test(c)},O.device.isOs=function(a){var b=new RegExp(a.toLowerCase()),c=navigator.userAgent.toLowerCase();return b.test(c)},O.responsive={breakpointEl:".breakpoint"},O.responsive.breakpoint=function(a){return b(O.responsive.breakpointEl).html()===a},O.noConflict=function(){return a.Scandio=j,this},"function"==typeof define&&define.amd&&define("Scandio",function(){return O})}(this,jQuery,AJS,window,document,void 0);
/*
//@ sourceMappingURL=scandio-0.2.3-atlassian.min.map
*/